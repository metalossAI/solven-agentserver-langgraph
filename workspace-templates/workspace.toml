# Workspace Configuration File
# Single file to define complete dev environment

[workspace]
name = "default"
version = "1.0"
description = "Standard development environment"

# Python configuration
[python]
version = "3.12"
package_manager = "uv"

# Python packages (automatically installed)
[python.packages]
pandas = ">=2.1.0"
numpy = ">=1.26.0"
matplotlib = ">=3.8.0"
seaborn = ">=0.13.0"
pillow = ">=10.0.0"
requests = ">=2.31.0"
httpx = ">=0.25.0"
openpyxl = ">=3.1.0"
python-docx = ">=1.1.0"
PyPDF2 = ">=3.0.0"
python-dotenv = ">=1.0.0"
pydantic = ">=2.5.0"
python-dateutil = ">=2.8.0"

# Node.js configuration
[nodejs]
version = "20"
package_manager = "bun"

# Node packages (automatically installed)
[nodejs.packages]
docx = "^8.5.0"
axios = "^1.6.0"
dotenv = "^16.3.0"
xlsx = "^0.18.5"
date-fns = "^3.0.0"

# Environment variables
[env]
PYTHONUNBUFFERED = "1"
PYTHONDONTWRITEBYTECODE = "1"
MPLBACKEND = "Agg"
NODE_ENV = "development"
UV_CACHE_DIR = "/.cache/uv"

# Shell configuration
[shell]
init_script = """
# Activate Python virtual environment
if [ -f /.venv/bin/activate ]; then
    source /.venv/bin/activate
fi

# Add node_modules to PATH
export PATH="/node_modules/.bin:$PATH"

# Welcome message
echo "ðŸš€ Workspace ready!"
echo "Python: $(python --version)"
echo "Node: $(node --version)"
echo "Bun: $(bun --version)"
"""

# Sandbox security settings
[security]
network_enabled = true

[security.filesystem]
readonly = ["/usr", "/lib", "/lib64", "/bin", "/sbin"]
writable = ["/", "/tmp", "/.cache"]

[security.limits]
max_disk = "1GB"
max_memory = "512MB"
max_cpu_time = "60s"
max_processes = 20

# Tasks/Scripts that can be run
[tasks]
install = "uv pip install . && bun install"
test = "python -m pytest"
clean = "rm -rf __pycache__ node_modules .cache"

